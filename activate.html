<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–ª—é—á–∞ - –£—á–µ–±–∞–ù–∞5+</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2196f3">
    <style>
        .activation-container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .key-status-card {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }
        
        .key-status-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .timer-large {
            font-size: 2rem;
            font-weight: bold;
            margin: 1rem 0;
        }
        
        .timer-units {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .timer-unit {
            text-align: center;
        }
        
        .timer-value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .timer-label {
            font-size: 0.875rem;
            opacity: 0.9;
        }
        
        .activation-form {
            background-color: var(--bg-card);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--shadow);
        }
        
        .form-description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .key-examples {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: var(--bg-secondary);
            border-radius: 8px;
        }
        
        .key-examples h4 {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }
        
        .key-example {
            font-family: monospace;
            padding: 0.25rem 0.5rem;
            background-color: var(--bg-primary);
            border-radius: 4px;
            margin: 0.25rem;
            display: inline-block;
            font-size: 0.875rem;
        }
        
        .device-info {
            margin-top: 2rem;
            padding: 1rem;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .test-keys {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: rgba(255, 152, 0, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--warning-color);
        }
        
        .test-keys h4 {
            color: var(--warning-color);
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <h1>–£—á–µ–±–∞–ù–∞5+</h1>
                <div class="key-status" id="keyStatus">
                    <span class="status-badge inactive">–ö–ª—é—á –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω</span>
                    <div class="timer" id="timer" style="display: none;">
                        –û—Å—Ç–∞–ª–æ—Å—å: <span id="daysLeft">0</span> –¥–Ω–µ–π
                    </div>
                </div>
            </div>
            
            <nav class="nav">
                <a href="index.html" class="nav-link">
                    <span class="nav-icon">üßÆ</span>
                    <span class="nav-text">–†–µ—à–∞–ª–∫–∞</span>
                </a>
                <a href="column-math.html" class="nav-link">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">–°—Ç–æ–ª–±–∏–∫</span>
                </a>
                <a href="notes.html" class="nav-link">
                    <span class="nav-icon">üìù</span>
                    <span class="nav-text">–ü–∞–º—è—Ç–∫–∏</span>
                </a>
                <a href="activate.html" class="nav-link active">
                    <span class="nav-icon">üîë</span>
                    <span class="nav-text">–ö–ª—é—á</span>
                </a>
            </nav>
            
            <button id="themeToggle" class="theme-toggle">
                <span id="themeIcon">üåô</span>
            </button>
        </header>

        <main class="main-content">
            <div class="activation-container">
                <div class="key-status-card">
                    <div class="key-status-icon" id="statusIcon">üîì</div>
                    <h2 id="statusTitle">–î–æ—Å—Ç—É–ø –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω</h2>
                    <div id="statusDescription">
                        <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–ª—é—á</p>
                    </div>
                    <div id="timerContainer" style="display: none;">
                        <div class="timer-large">
                            <span id="largeTimer">10:00:00:00</span>
                        </div>
                        <div class="timer-units">
                            <div class="timer-unit">
                                <div class="timer-value" id="timerDays">10</div>
                                <div class="timer-label">–¥–Ω–µ–π</div>
                            </div>
                            <div class="timer-unit">
                                <div class="timer-value" id="timerHours">00</div>
                                <div class="timer-label">—á–∞—Å–æ–≤</div>
                            </div>
                            <div class="timer-unit">
                                <div class="timer-value" id="timerMinutes">00</div>
                                <div class="timer-label">–º–∏–Ω—É—Ç</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="activation-form">
                    <h2 class="section-title">–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–ª—é—á–∞</h2>
                    <p class="form-description">
                        –í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ UCH-NA5-XXX-999
                    </p>
                    
                    <form id="activateForm">
                        <div class="form-group">
                            <label for="keyInput" class="form-label">–ö–ª—é—á –¥–æ—Å—Ç—É–ø–∞:</label>
                            <input type="text" 
                                   id="keyInput" 
                                   class="form-input"
                                   placeholder="UCH-NA5-SUN-723"
                                   maxlength="16">
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            üîë –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á
                        </button>
                    </form>
                    
                    <div id="message" class="error-message" style="display: none; margin-top: 1rem;"></div>
                    
                    <div class="test-keys">
                        <h4>–¢–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏:</h4>
                        <p>–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:</p>
                        <div>
                            <span class="key-example">UCH-NA5-SUN-723</span>
                            <span class="key-example">UCH-NA5-MOON-841</span>
                            <span class="key-example">UCH-NA5-STAR-309</span>
                        </div>
                        <p style="margin-top: 0.5rem; font-size: 0.875rem;">
                            –ö–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç 10 –¥–Ω–µ–π –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è 1 —Ä–∞–∑ –Ω–∞ 1 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
                        </p>
                    </div>
                    
                    <div class="key-examples">
                        <h4>–§–æ—Ä–º–∞—Ç –∫–ª—é—á–∞:</h4>
                        <p>UCH-NA5-XXX-999 –≥–¥–µ:</p>
                        <ul style="margin: 0.5rem 0 0.5rem 1rem; color: var(--text-secondary);">
                            <li>UCH-NA5 - –ø—Ä–µ—Ñ–∏–∫—Å</li>
                            <li>XXX - —Å–ª–æ–≤–æ –∏–∑ 3-4 –±—É–∫–≤ (SUN, MOON, STAR)</li>
                            <li>999 - 3 —Ü–∏—Ñ—Ä—ã</li>
                        </ul>
                    </div>
                    
                    <div class="device-info">
                        <p><strong>ID –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</strong></p>
                        <code id="deviceId" style="font-size: 0.75rem; word-break: break-all;"></code>
                        <p style="margin-top: 0.5rem; font-size: 0.75rem;">
                            –ö–ª—é—á –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ —ç—Ç–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø–æ–≤—Ç–æ—Ä–Ω–æ
                        </p>
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem;">
                        <a href="buy-key.html" class="btn btn-secondary">
                            üõí –ö—É–ø–∏—Ç—å –∫–ª—é—á
                        </a>
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="footer">
            <p>¬© 2024 –£—á–µ–±–∞–ù–∞5+ | –°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏</p>
        </footer>
    </div>

    <script src="app.js"></script>
    <script src="key-system.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
            const deviceId = localStorage.getItem('device_id') || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω';
            document.getElementById('deviceId').textContent = deviceId;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            function updateActivationStatus() {
                const keySystem = window.keySystem || new KeySystem();
                const isActive = keySystem.checkKeyStatus();
                const timeLeft = keySystem.getTimeLeft();
                
                const statusIcon = document.getElementById('statusIcon');
                const statusTitle = document.getElementById('statusTitle');
                const statusDescription = document.getElementById('statusDescription');
                const timerContainer = document.getElementById('timerContainer');
                
                if (isActive && timeLeft) {
                    // –ö–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω
                    statusIcon.textContent = 'üîê';
                    statusTitle.textContent = '–î–æ—Å—Ç—É–ø –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω';
                    statusDescription.innerHTML = `
                        <p>–£ –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
                    `;
                    
                    timerContainer.style.display = 'block';
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–π–º–µ—Ä
                    document.getElementById('timerDays').textContent = 
                        timeLeft.days.toString().padStart(2, '0');
                    document.getElementById('timerHours').textContent = 
                        timeLeft.hours.toString().padStart(2, '0');
                    document.getElementById('timerMinutes').textContent = 
                        timeLeft.minutes.toString().padStart(2, '0');
                    
                    const totalSeconds = timeLeft.totalSeconds;
                    const days = Math.floor(totalSeconds / 86400);
                    const hours = Math.floor((totalSeconds % 86400) / 3600);
                    const minutes = Math.floor((totalSeconds % 3600) / 60);
                    const seconds = totalSeconds % 60;
                    
                    document.getElementById('largeTimer').textContent = 
                        `${days.toString().padStart(2, '0')}:` +
                        `${hours.toString().padStart(2, '0')}:` +
                        `${minutes.toString().padStart(2, '0')}:` +
                        `${seconds.toString().padStart(2, '0')}`;
                    
                } else {
                    // –ö–ª—é—á –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω
                    statusIcon.textContent = 'üîì';
                    statusTitle.textContent = '–î–æ—Å—Ç—É–ø –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω';
                    statusDescription.innerHTML = `
                        <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–ª—é—á</p>
                        <p style="margin-top: 0.5rem; font-size: 0.875rem; opacity: 0.9;">
                            –î–æ—Å—Ç—É–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ 10 –¥–Ω–µ–π
                        </p>
                    `;
                    timerContainer.style.display = 'none';
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            updateActivationStatus();
            setInterval(updateActivationStatus, 1000);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å –∫–ª—é—á–∞
            checkKeyStatus();
            setInterval(checkKeyStatus, 1000);
        });
    </script>
</body>
</html>
